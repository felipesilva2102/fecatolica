<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="jakarta.tags.core"
      xmlns:ui="jakarta.faces.facelets">

    <h:head>
        <title>Santo Terço — FS Tech</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style type="text/css">
            body {
                font-family:"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
                background:linear-gradient(180deg,#f7fbff 0%,#f0f6fb 50%,#eef7f1 100%);
                margin:0;
                padding:0;
            }
            .container{
                max-width:1100px;
                margin:24px auto;
                padding:18px;
            }
            .card{
                background:white;
                border-radius:12px;
                box-shadow:0 8px 30px rgba(20,40,80,0.08);
                padding:18px;
                margin-bottom:20px;
            }
            header h1{
                margin:0 0 6px 0;
                font-size:1.6rem;
            }
            header p.lead{
                margin:0;
                color:#555;
            }
            .layout{
                display:grid;
                grid-template-columns:1fr 1fr;
                gap:18px;
                align-items:start;
            }
            .tutorial-step{
                display:flex;
                align-items:center;
                gap:14px;
                margin-bottom:14px;
            }
            .tutorial-step img{
                width:80px;
                height:80px;
                border-radius:10px;
                border:2px solid #ccc;
                object-fit:cover;
            }
            .tutorial-step p{
                margin:0;
                line-height:1.4;
            }
            @media (max-width:920px){
                .layout{
                    grid-template-columns:1fr;
                }
                .container{
                    padding:12px;
                }
            }
            nav {
                display: flex;
                justify-content: center; /* centraliza horizontalmente */
                gap: 24px; /* espaço entre os links */
                margin-bottom: 24px;
                flex-wrap: wrap; /* quebra linha em telas menores */
            }

            nav a {
                text-decoration: none;
                color: #333;
                font-weight: 600;
                padding: 8px 16px;
                border-radius: 8px;
                transition: all 0.3s ease;
                background-color: rgba(255, 255, 255, 0.6);
                box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            }

            nav a:hover {
                background-color: #4CAF50; /* cor ao passar o mouse */
                color: white;
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            }
        </style>
    </h:head>

    <h:body>
        <h:form>
            <div class="container">
                <ui:include src="/includes/menu.xhtml"/>

                <div class="card">
                    <header style="text-align:center;">
                        <h1>Santo Terço — Guia interativo</h1>
                        <p class="lead">Clique nas contas para acompanhar o progresso.</p>
                    </header>
                </div>

                <!-- Tutorial -->
                <div class="card" id="tutorial">
                    <h2>Como rezar o Santo Terço</h2>
                    <p class="muted">Siga os passos abaixo para rezar o Terço corretamente:</p>

                    <div class="tutorial-step">
                        <img src="imagens\ImageUm.png" alt="Ave Maria"/>
                        <p><strong>1. Início:</strong> Faça o sinal da cruz e reze o <em>Credo</em>.</p>
                    </div>

                    <div class="tutorial-step">
                        <img src="imagens\imageDois.png" alt="Pai Nosso"/>
                        <p><strong>2. Primeira conta grande:</strong> Reze o <em>Pai-Nosso</em>.</p>
                    </div>

                    <div class="tutorial-step">
                        <img src="imagens\ImageTrês.png" alt="Ave-Maria"/>
                        <p><strong>3. Três contas pequenas:</strong> Reze três <em>Ave-Marias</em>.</p>
                    </div>

                    <div class="tutorial-step">
                        <img src="imagens\imageQuatro.png" alt="Glória"/>
                        <p><strong>4. Em seguida:</strong> Reze o <em>Glória</em>.</p>
                    </div>

                    <div class="tutorial-step">
                        <img src="imagens\ImageCinco.png" alt="Mistério"/>
                        <p><strong>5. Nas dezenas:</strong> Medite cada Mistério, rezando <em>1 Pai-Nosso, 10 Ave-Marias e 1 Glória</em>.</p>
                    </div>

                    <div class="tutorial-step">
                        <img src="imagens\ImageSeis.png" alt="Salve Rainha"/>
                        <p><strong>6. Final:</strong> Reze a <em>Salve Rainha</em> e encerre com o sinal da cruz.</p>
                    </div>
                </div>

                <div class="card">
                    <header>
                        <h1>Santo Terço — Guia interativo</h1>
                        <p class="lead">Clique nas contas para acompanhar o progresso.</p>
                    </header>

                    <div class="layout" style="margin-top:14px">
                        <main>
                            <div class="card">
                                <h2 style="margin-top:0;">Rezar as dezenas</h2>
                                <div class="prayers">
                                    <h4>O Credo</h4>
                                    <p>Creio em Deus Pai todo-poderoso, Criador do céu e da terra; e em Jesus Cristo, seu único Filho, nosso Senhor; que foi concebido pelo poder do Espírito Santo; nasceu da Virgem Maria; padeceu sob Pôncio Pilatos; foi crucificado, morto e sepultado; desceu à mansão dos mortos; ressuscitou ao terceiro dia; subiu aos céus; está sentado à direita de Deus Pai todo-poderoso, donde há de vir a julgar os vivos e os mortos; creio no Espírito Santo; na Santa Igreja Católica; na comunhão dos santos; na remissão dos pecados; na ressurreição da carne; na vida eterna. Amém.</p>

                                    <h4>Pai-Nosso</h4>
                                    <p>Pai-Nosso que estais nos céus, santificado seja o vosso nome; venha a nós o vosso reino; seja feita a vossa vontade assim na terra como no céu; o pão nosso de cada dia nos dai hoje; perdoai-nos as nossas ofensas assim como nós perdoamos a quem nos tem ofendido; e não nos deixeis cair em tentação, mas livrai-nos do mal. Amém.</p>

                                    <h4>Ave-Maria</h4>
                                    <p>Ave-Maria, cheia de graça, o Senhor é convosco; bendita sois vós entre as mulheres e bendito é o fruto do vosso ventre, Jesus. Santa Maria, Mãe de Deus, rogai por nós, pecadores, agora e na hora de nossa morte. Amém.</p>

                                    <h4>Glória</h4>
                                    <p>Glória ao Pai, ao Filho e ao Espírito Santo, como era no princípio, agora e sempre. Amém.</p>

                                    <h4>Jaculatória</h4>
                                    <p>Ó meu Jesus, perdoai-nos, livrai-nos do fogo do inferno, levai as almas todas para o céu, e socorrei principalmente as que mais precisarem da vossa misericórdia. Amém.</p>

                                    <h4>Salve Rainha</h4>
                                    <p>Salve, Rainha, Mãe de misericórdia, vida, doçura e esperança nossa, salve! A vós bradamos, os degredados filhos de Eva; a vós suspiramos, gemendo e chorando neste vale de lágrimas. Eia, pois, advogada nossa, esses vossos olhos misericordiosos a nós volvei; e depois deste desterro mostrai-nos Jesus, bendito fruto do vosso ventre, ó clemente, ó piedosa, ó doce sempre Virgem Maria. Rogai por nós, Santa Mãe de Deus, para que sejamos dignos das promessas de Cristo. Amém.</p>
                                </div>
                                <div id="decadesContainer" style="margin-top:12px;"></div>
                            </div>
                        </main>

                        <aside>
                            <div class="card">
                                <h2 style="margin-top:0;">Mistério de hoje</h2>
                                <p id="todayMystery" class="muted">Carregando...</p>
                                <div id="mysteryBody"></div>
                            </div>
                        </aside>
                    </div>
                </div>
                <ui:include src="/includes/footer.xhtml"/>
            </div>

            <script type="text/javascript">
                //<![CDATA[
                const Terco = (function () {
                    const mysteries = [
                        {title: 'Mistérios Gozosos', days: ['segunda-feira', 'sábado'], items: [
                                'A Anunciação do Anjo a Maria',
                                'A Visitação de Maria a Santa Isabel',
                                'O Nascimento de Jesus em Belém',
                                'A Apresentação de Jesus no Templo',
                                'O Encontro de Jesus no Templo'
                            ]},
                        {title: 'Mistérios Dolorosos', days: ['terça-feira', 'sexta-feira'], items: [
                                'A Agonia de Jesus no Horto',
                                'A Flagelação de Jesus',
                                'A Coroação de Espinhos',
                                'Jesus carregando a Cruz',
                                'A Crucificação e Morte de Jesus'
                            ]},
                        {title: 'Mistérios Gloriosos', days: ['quarta-feira', 'domingo'], items: [
                                'A Ressurreição de Jesus',
                                'A Ascensão de Jesus aos Céus',
                                'A Descida do Espírito Santo',
                                'A Assunção de Maria ao Céu',
                                'A Coroação de Maria como Rainha do Céu'
                            ]},
                        {title: 'Mistérios Luminosos', days: ['quinta-feira'], items: [
                                'O Batismo de Jesus no Jordão',
                                'A Autorrevelação nas Bodas de Caná',
                                'O Anúncio do Reino e o convite à conversão',
                                'A Transfiguração',
                                'A Instituição da Eucaristia'
                            ]}
                    ];

                    function buildUI(selectedMystery) {
                        const container = document.getElementById('decadesContainer');
                        container.innerHTML = '';

                        for (let d = 1; d <= 5; d++) {
                            const wrap = document.createElement('div');
                            wrap.className = 'decade';
                            wrap.style.marginBottom = '16px';

                            const title = document.createElement('div');
                            title.innerHTML = '<strong>Dezena ' + d + ':</strong> ' + (selectedMystery ? selectedMystery.items[d - 1] : '');
                            title.style.marginBottom = '8px';
                            wrap.appendChild(title);

                            const beads = document.createElement('div');
                            beads.className = 'beads';
                            beads.style.display = 'flex';
                            beads.style.gap = '6px';
                            beads.style.flexWrap = 'wrap';

                            // Pai Nosso
                            const pai = document.createElement('div');
                            pai.className = 'bead';
                            pai.innerText = 'P';
                            pai.title = 'Pai Nosso';
                            pai.style.backgroundColor = '#eee';
                            pai.style.display = 'flex';
                            pai.style.alignItems = 'center';
                            pai.style.justifyContent = 'center';
                            pai.style.cursor = 'pointer';
                            pai.style.borderRadius = '50%';
                            pai.style.width = '48px';
                            pai.style.height = '48px';
                            pai.onclick = () => {
                                pai.classList.toggle('active');
                                pai.style.backgroundColor = pai.classList.contains('active') ? '#4CAF50' : '#eee';
                                pai.style.color = pai.classList.contains('active') ? 'white' : 'black';
                            };
                            beads.appendChild(pai);

                            // 10 Ave-Marias
                            for (let i = 1; i <= 10; i++) {
                                const b = document.createElement('div');
                                b.className = 'bead';
                                b.innerText = i;
                                b.title = 'Ave Maria ' + i;
                                b.style.backgroundColor = '#eee';
                                b.style.display = 'flex';
                                b.style.alignItems = 'center';
                                b.style.justifyContent = 'center';
                                b.style.cursor = 'pointer';
                                b.style.borderRadius = '50%';
                                b.style.width = '40px';
                                b.style.height = '40px';
                                b.onclick = () => {
                                    b.classList.toggle('active');
                                    b.style.backgroundColor = b.classList.contains('active') ? '#2196F3' : '#eee';
                                    b.style.color = b.classList.contains('active') ? 'white' : 'black';
                                };
                                beads.appendChild(b);
                            }

                            // Glória
                            const gloria = document.createElement('div');
                            gloria.className = 'bead';
                            gloria.innerText = 'G';
                            gloria.title = 'Glória';
                            gloria.style.backgroundColor = '#eee';
                            gloria.style.display = 'flex';
                            gloria.style.alignItems = 'center';
                            gloria.style.justifyContent = 'center';
                            gloria.style.cursor = 'pointer';
                            gloria.style.borderRadius = '50%';
                            gloria.style.width = '48px';
                            gloria.style.height = '48px';
                            gloria.onclick = () => {
                                gloria.classList.toggle('active');
                                gloria.style.backgroundColor = gloria.classList.contains('active') ? '#FF9800' : '#eee';
                                gloria.style.color = gloria.classList.contains('active') ? 'white' : 'black';
                            };
                            beads.appendChild(gloria);

                            wrap.appendChild(beads);
                            container.appendChild(wrap);
                        }
                    }

                    function showTodayMystery() {
                        const options = {weekday: 'long'};
                        const today = new Date().toLocaleDateString('pt-BR', options).toLowerCase();
                        let selected = mysteries.find(m => m.days.includes(today));
                        if (!selected)
                            selected = mysteries[0];

                        document.getElementById('todayMystery').innerText = selected.title + ' (' + today + ')';

                        const box = document.getElementById('mysteryBody');
                        box.innerHTML = '';
                        const list = document.createElement('ol');
                        selected.items.forEach(it => {
                            const li = document.createElement('li');
                            li.textContent = it;
                            list.appendChild(li);
                        });
                        box.appendChild(list);

                        buildUI(selected);
                    }

                    return {buildUI, showTodayMystery};
                })();

                document.addEventListener('DOMContentLoaded', function () {
                    Terco.showTodayMystery();
                });
                //]]>
            </script>
        </h:form>
    </h:body>
</html>