<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Quaresma de SÃ£o JosÃ©</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 16px;
                background: #fff;
                color: #222;
            }

            .container {
                max-width: 980px;
                margin: 0 auto;
            }

            h1.title {
                text-align:center;
                color: #8b0000;
                margin-bottom: 6px;
            }

            .top-row {
                display:flex;
                justify-content:space-between;
                align-items:center;
                gap:12px;
                flex-wrap:wrap;
                margin:18px 0;
            }

            .msg {
                font-weight:600;
                color:#1a4f89;
            }

            footer.page-footer {
                text-align:center;
                padding:18px;
                background:#fafafa;
                margin-top:20px;
                border-radius:8px;
            }

            @media screen and (max-width: 720px) {
                .top-row {
                    flex-direction:column;
                    align-items:stretch;
                }
            }
        </style>
    </h:head>

    <h:body>
        <h:form id="formQuaresmaJose" prependId="false">

            <!-- TÃ­tulo -->
            <h1 style="text-align:center; color:darkred;">
                Quaresma de SÃ£o JosÃ©
            </h1>

            <!-- CalendÃ¡rio e botÃ£o de retorno -->
            <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px; margin:20px 0;">
                <p:button value="ðŸ”™ Voltar para o TerÃ§o"
                          outcome="/santo_terco.xhtml"
                          style="white-space: nowrap;"/>

                <!-- mostra nÃºmero do dia da quaresma (ou aviso) -->
                <h:panelGroup id="mensagem">
                    <h:outputText rendered="#{quaresmaSaoJoseBean.diaQuaresma ne -1}"
                                  value="ðŸ“… Dia da Quaresma: #{quaresmaSaoJoseBean.diaQuaresma}"
                                  styleClass="msg" />
                    <h:outputText rendered="#{quaresmaSaoJoseBean.diaQuaresma eq -1}"
                                  value="ðŸ“… A data atual estÃ¡ fora da Quaresma (19/02 - 19/03)."
                                  style="color:#b03030; font-weight:600;" />
                </h:panelGroup>
            </div>

            <!-- Spinner global PrimeFaces (opcional) -->
            <p:dialog widgetVar="busy" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                <p:graphicImage name="images/loading.gif" library="images" />
            </p:dialog>

            <!-- Accordion com as oraÃ§Ãµes - sÃ³ aparece se a data estiver no perÃ­odo -->
            <p:accordionPanel id="accordion" multiple="true" activeIndex="0"
                              rendered="true">
                <!-- PreparaÃ§Ã£o DiÃ¡ria -->
                <p:tab title="PreparaÃ§Ã£o DiÃ¡ria">
                    <pre style="white-space: pre-line;">#{quaresmaSaoJoseBean.oracaoPreparatoria}</pre>
                </p:tab>

                <!-- SÃºplicas / InvocaÃ§Ãµes (as 30 invocaÃ§Ãµes) -->
                <p:tab title="As 30 InvocaÃ§Ãµes (SÃºplica)">
                    <pre style="white-space: pre-line;">#{quaresmaSaoJoseBean.suplicas}</pre>
                </p:tab>

                <!-- OraÃ§Ã£o Final -->
                <p:tab title="OraÃ§Ã£o Final">
                    <pre style="white-space: pre-line;">#{quaresmaSaoJoseBean.oracaoFinal}</pre>
                </p:tab>
                
                <!-- JaculatÃ³ria -->
                <p:tab title="JaculatÃ³ria">
                    <pre style="white-space: pre-line;">#{quaresmaSaoJoseBean.jaculatoria}</pre>
                </p:tab>

                <!-- Caso a data nÃ£o esteja no perÃ­odo exibe uma aba explicativa -->
                <p:tab title="InformaÃ§Ãµes" rendered="#{quaresmaSaoJoseBean.diaQuaresma eq -1}">
                    <h:outputText value="A Quaresma de SÃ£o JosÃ© vai normalmente de 19 de fevereiro a 19 de marÃ§o (30 dias). Se quiser acompanhar a devoÃ§Ã£o em uma data dentro desse intervalo, selecione uma data no calendÃ¡rio." />
                </p:tab>
            </p:accordionPanel>

            <!-- RodapÃ© com contatos -->
            <footer id="footer" style="text-align:center; padding:20px; background:#f9f9f9;">

                <!-- BotÃµes de contato -->
                <div style="margin:16px 0;">
                    <!-- WhatsApp -->
                    <a href="https://wa.me/5584999937274?text=Ol%C3%A1,%20gostaria%20de%20saber%20mais"
                       target="_blank"
                       style="background:#25D366;color:white;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:bold;margin:4px;display:inline-block;">
                        ðŸ’¬ WhatsApp
                    </a>

                    <!-- Email -->
                    <a href="mailto:felipefrancelino2015@gmail.com?subject=Contato&amp;body=OlÃ¡!"
                       onclick="window.open('https://mail.google.com/mail/?view=cm&amp;fs=1&amp;to=felipefrancelino2015@gmail.com&amp;su=Contato&amp;body=OlÃ¡!', '_blank'); return false;"
                       style="background:#39588f;color:white;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:bold;margin:4px;display:inline-block;">
                        ðŸ“§ Email
                    </a>
                </div>

                <!-- Desenvolvedor -->
                <div style="margin-top:10px; color:#bbb; font-size:0.9rem;">
                    Desenvolvido por <strong>FS Tech</strong>
                </div>

                <!-- Contato final -->
                <div style="margin-top:8px;">
                    <i class="pi pi-whatsapp" style="color:#25D366;"></i>
                    <a href="https://wa.me/5584999937274?text=Ol%C3%A1,%20gostaria%20de%20saber%20mais%20sobre%20seu%20trabalho."
                       target="_blank"
                       style="text-decoration:none; color:#25D366; margin-left:5px; font-weight:bold;">
                        +55 (84) 99993-7274
                    </a>
                </div>
            </footer>
        </h:form>
    </h:body>
</html>
